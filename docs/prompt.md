あなたは優秀なソフトウェア開発エージェントです。

これから、以下の要件定義書に基づいて、Electronを使ったWindows向けデスクトップアプリケーション「mail-header-analyzer」を開発します。

まずは、この要件定義書をよく読んで、プロジェクトの全体像を完全に理解してください。
理解できたら結果を私に報告してください。

---

## 【最終版】開発要件定義書: mail-header-analyzer

### 1. プロジェクト概要

* **プロジェクト名:** mail-header-analyzer
* **ゴール:** メールヘッダーを貼り付けると、配送経路などをローカル環境で安全に分析できる、Windows向けデスクトップアプリケーションを開発する。
* **ターゲットユーザー:** メールシステム運用者、ITサポート担当者。
* **解決する問題:** 専門知識が必要で読みにくいメールヘッダーを視覚的に分かりやすく表示し、運用者のスキルに依存しない迅速な分析を可能にする。オンラインツールの利用に伴うセキュリティリスクを排除する。

***

### 2. MVPのコア機能

1.  **ヘッダー入力:** ユーザーがメールヘッダー全文をペーストできる入力エリアを提供する。
2.  **基本情報の表示:** ヘッダーから「件名」「差出人(From)」「宛先(To)」「送信日時(Date)」を抽出して表示する。
3.  **配送経路の可視化:** `Received`ヘッダーを時系列に沿って解析し、各中継サーバー（ホップ）の情報と、ホップ間の遅延時間を表示する。

***

### 3. 技術仕様

* **フレームワーク:** **Electron**
* **言語:** **TypeScript**
* **UIフレームワーク:** **React**
* **UIコンポーネント:** **shadcn/ui** を使用する。（shadcn/uiのセットアップ手順に従ってプロジェクトに導入すること）
* **スタイリング:** **Tailwind CSS**
* **ターゲットプラットフォーム:** **Windows** (`.exe`形式でパッケージング)

***

### 4. UI/UXデザイン仕様

**全体テーマ: クリーン＆シンプル (ライトモード)**

* **配色:**
    * **背景:** 白 (`#FFFFFF`) または、ごく薄いグレー (`#F9FAFB`)
    * **テキスト:** 黒に近い濃いグレー (`#111827`)
    * **アクセントカラー (ボタン、アクティブなタブなど):** ブルー系 (`#3B82F6`)
* **フォント:** **Noto Sans JP** をアプリケーション全体で使用する。

**レイアウト:** 2カラム構成
* **左カラム (幅40%):** 入力パネル
* **右カラム (幅60%):** 結果表示パネル

**コンポーネント詳細:**
* **左パネル (入力):**
    * `shadcn/ui`の`Textarea`を配置。複数行入力可能で、十分な高さを持たせる。placeholderに「ここにメールヘッダーを貼り付け...」と表示。
    * Textareaの下にボタンを2つ横並びに配置。
        1.  `shadcn/ui`の`Button` (Primary)。テキストは「**解析**」。
        2.  `shadcn/ui`の`Button` (Secondary or Outline)。テキストは「**クリア**」。

* **右パネル (結果):**
    * **上部 (基本情報):**
        * 「件名」「From」「To」「Date」のラベルと内容をキーバリュー形式で表示する。ラベル（キー）は太字にする。
    * **下部 (Advanced情報):**
        * `shadcn/ui`の`Tabs`コンポーネントを使用する。
        * デフォルトで「**配送経路**」タブをアクティブにする。
        * **「配送経路」タブの内容:**
            * 各ホップを時系列（下から上へ）にリスト表示する。
            * 各ホップで「`From:` (送信元サーバー)」「`By:` (受信サーバー)」「`At:` (タイムスタンプ)」を表示する。
            * ホップ間の遅延時間を`shadcn/ui`の`Badge`コンポーネントで表示する。
                * **1秒未満:** **緑色**のBadge (例: `variant="outline"`で緑系の色) テキスト: `+0.8s`
                * **1秒以上5秒未満:** **黄色**のBadge。 テキスト: `+3.2s`
                * **5秒以上:** **赤色**のBadge。 テキスト: `+6.2s`

***

### 5. 解析ロジックとデータ構造

* **入力:** 左パネルのTextareaに入力された文字列。
* **出力（内部データ構造）:** 入力文字列を解析し、以下のJSON構造に変換してReactのStateで管理する。

```json
{
  "summary": {
    "subject": "プロジェクトAに関するお知らせ",
    "from": "Taro Yamada <taro@example.com>",
    "to": "Jiro Suzuki <jiro@example.co.jp>",
    "date": "Fri, 5 Sep 2025 10:00:00 +0900"
  },
  "delivery_path": [
    { "hop": 1, "from": "mail-server1.example.com", "by": "mail-server2.example.com", "delay_seconds": 0.8, "timestamp": "Fri, 5 Sep 2025 10:00:01 +0900" },
    { "hop": 2, "from": "mail-server2.example.com", "by": "mail-server3.example.co.jp", "delay_seconds": 6.2, "timestamp": "Fri, 5 Sep 2025 10:00:07 +0900" }
  ]
}
```

* **解析ルール:**
    1.  ヘッダーから `Subject:`, `From:`, `To:`, `Date:` を正規表現等で抽出し、`summary`オブジェクトを生成する。
    2.  全ての`Received:`ヘッダーを抽出し、リストにする。メールの配送経路はヘッダーの下から上に記録されるため、**リストの逆順（下から上）**で処理する。
    3.  各`Received:`ヘッダーから`from`, `by`, `timestamp`を抽出する。
    4.  現在のホップの`timestamp`と、一つ前のホップの`timestamp`の差分を計算し、`delay_seconds`を算出する。最初のホップの遅延は0とする。

